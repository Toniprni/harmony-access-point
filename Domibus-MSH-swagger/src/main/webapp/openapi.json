{"openapi":"3.0.1","info":{"title":"Domibus API API","description":"Domibus REST API documentation","license":{"name":"EUPL 1.2","url":"https://www.eupl.eu/"},"version":"v1.0"},"servers":[{"url":"/domibus","description":"Domibus services!"},{}],"paths":{"/ext/party":{"get":{"tags":["party-ext-resource"],"operationId":"listParties","parameters":[{"name":"request","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PartyFilterRequestDTO"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PartyDTO"}}}}}}},"put":{"tags":["party-ext-resource"],"operationId":"updateParty","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartyDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"post":{"tags":["party-ext-resource"],"operationId":"createParty","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartyDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["party-ext-resource"],"operationId":"deleteParty","parameters":[{"name":"partyName","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/ext/monitoring/messages/failed/{messageId}/restore":{"put":{"tags":["message-monitoring-ext-resource"],"operationId":"restoreFailedMessage","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/ext/monitoring/messages/enqueued/{messageId}/send":{"put":{"tags":["message-monitoring-ext-resource"],"operationId":"sendEnqueuedMessage","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/ext/archive/batches/exported/{batchId}/export":{"put":{"tags":["domibus-e-archive-ext-resource"],"operationId":"exportBatch","parameters":[{"name":"batchId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BatchStatusDTO"}}}}}}},"/ext/archive/batches/exported/{batchId}/close":{"put":{"tags":["domibus-e-archive-ext-resource"],"operationId":"setBatchAsArchived","parameters":[{"name":"batchId","in":"path","required":true,"schema":{"type":"string"}},{"name":"batchFinalStatus","in":"query","required":true,"schema":{"type":"string","enum":["ARCHIVED","FAILED"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BatchStatusDTO"}}}}}}},"/ext/pmode":{"post":{"tags":["p-mode-file-ext-resource"],"operationId":"uploadPMode","parameters":[{"name":"description","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}},"application/x-www-form-urlencoded":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ValidationResponseDTO"}}}}}}},"/ext/monitoring/messages/failed/restore":{"post":{"tags":["message-monitoring-ext-resource"],"operationId":"restoreFailedMessages","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FailedMessagesCriteriaRO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/ext/messages/acknowledgments/processed":{"post":{"tags":["message-acknowledgement-ext-resource"],"operationId":"acknowledgeMessageProcessed","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageAcknowledgementRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageAcknowledgementDTO"}}}}}}},"/ext/messages/acknowledgments/delivered":{"post":{"tags":["message-acknowledgement-ext-resource"],"operationId":"acknowledgeMessageDelivered","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageAcknowledgementRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessageAcknowledgementDTO"}}}}}}},"/ext/pmode/{id}":{"get":{"tags":["p-mode-file-ext-resource"],"operationId":"downloadPMode","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/xml":{"schema":{"type":"string","format":"binary"}}}}}}},"/ext/pmode/current":{"get":{"tags":["p-mode-file-ext-resource"],"operationId":"getCurrentPMode","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PModeArchiveInfoDTO"}}}}}}},"/ext/party/{partyName}/certificate":{"get":{"tags":["party-ext-resource"],"operationId":"getCertificateForParty","parameters":[{"name":"partyName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/ext/party/processes":{"get":{"tags":["party-ext-resource"],"operationId":"listProcesses","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProcessDTO"}}}}}}}},"/ext/monitoring/messages/{messageId}/attempts":{"get":{"tags":["message-monitoring-ext-resource"],"operationId":"getMessageAttempts","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageAttemptDTO"}}}}}}}},"/ext/monitoring/messages/failed":{"get":{"tags":["message-monitoring-ext-resource"],"operationId":"getFailedMessages","parameters":[{"name":"finalRecipient","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/ext/monitoring/messages/failed/{messageId}/elapsedtime":{"get":{"tags":["message-monitoring-ext-resource"],"operationId":"getFailedMessageInterval","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"integer","format":"int64"}}}}}}},"/ext/monitoring/application/status":{"get":{"tags":["domibus-monitoring-ext-resource"],"operationId":"getMonitoringDetails","parameters":[{"name":"filter","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"default":["all"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MonitoringInfoDTO"}}}}}}},"/ext/messages/usermessages/{messageId}":{"get":{"tags":["user-message-ext-resource"],"operationId":"getUserMessage","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserMessageDTO"}}}}}}},"/ext/messages/usermessages/{messageId}/signalEnvelope":{"get":{"tags":["user-message-ext-resource"],"operationId":"downloadSignalMessageEnvelope","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/ext/messages/usermessages/{messageId}/envelope":{"get":{"tags":["user-message-ext-resource"],"operationId":"downloadUserMessageEnvelope","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/ext/messages/acknowledgments/{messageId}":{"get":{"tags":["message-acknowledgement-ext-resource"],"operationId":"getAcknowledgedMessages","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MessageAcknowledgementDTO"}}}}}}}},"/ext/archive/messages/not-archived":{"get":{"tags":["domibus-e-archive-ext-resource"],"operationId":"notArchivedMessages","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"pageStart","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MessagesDTO"}}}}}}},"/ext/archive/continous-export/current-start-date":{"get":{"tags":["domibus-e-archive-ext-resource"],"operationId":"getCurrentExportDate","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CurrentBatchStartDateDTO"}}}}}}},"/ext/archive/batches/queued":{"get":{"tags":["domibus-e-archive-ext-resource"],"operationId":"getQueuedBatchRequests","parameters":[{"name":"lastCountRequests","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"maxCountResults","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"requestType","in":"query","required":true,"schema":{"type":"string","enum":["CONTINUOUS","ONE_TIME","ALL"]}},{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/QueuedBatchDTO"}}}}}}}},"/ext/archive/batches/exported":{"get":{"tags":["domibus-e-archive-ext-resource"],"operationId":"historyOfTheExportedBatches","parameters":[{"name":"startDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"endDate","in":"query","required":true,"schema":{"type":"string","format":"date-time"}},{"name":"status","in":"query","required":true,"schema":{"type":"string"}},{"name":"reExport","in":"query","required":true,"schema":{"type":"boolean"}},{"name":"pageStart","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExportedBatchDTO"}}}}}}}},"/ext/archive/batches/exported/{batchId}/messages":{"get":{"tags":["domibus-e-archive-ext-resource"],"operationId":"getBatchMessageIds","parameters":[{"name":"batchId","in":"path","required":true,"schema":{"type":"string"}},{"name":"pageStart","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"pageSize","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ExportedBatchMessagesDTO"}}}}}}},"/ext/monitoring/messages/failed/{messageId}":{"delete":{"tags":["message-monitoring-ext-resource"],"operationId":"deleteFailedMessage","parameters":[{"name":"messageId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/ext/cache":{"delete":{"tags":["cache-ext-resource"],"operationId":"evictCaches","responses":{"200":{"description":"OK"}}}},"/ext/2LCache":{"delete":{"tags":["cache-ext-resource"],"operationId":"evictTechnicalCaches","responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"PartyDTO":{"type":"object","properties":{"name":{"type":"string"},"userName":{"type":"string"},"endpoint":{"type":"string"},"identifiers":{"type":"array","items":{"$ref":"#/components/schemas/PartyIdentifierDTO"}},"processesWithPartyAsInitiator":{"type":"array","items":{"$ref":"#/components/schemas/ProcessDTO"}},"processesWithPartyAsResponder":{"type":"array","items":{"$ref":"#/components/schemas/ProcessDTO"}},"certificateContent":{"type":"string"}}},"PartyIdentifierDTO":{"type":"object","properties":{"partyId":{"type":"string"},"partyIdType":{"$ref":"#/components/schemas/PartyIdentifierTypeDTO"}}},"PartyIdentifierTypeDTO":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}}},"ProcessDTO":{"type":"object","properties":{"name":{"type":"string"}}},"BatchStatusDTO":{"type":"object","properties":{"batchId":{"type":"string"},"timestamp":{"type":"string","format":"date-time"},"status":{"type":"string"},"message":{"type":"string"}}},"ValidationIssueDTO":{"type":"object","properties":{"level":{"type":"string","enum":["NOTE","WARNING","ERROR"]},"code":{"type":"string"},"message":{"type":"string"}}},"ValidationResponseDTO":{"type":"object","properties":{"message":{"type":"string"},"issues":{"type":"array","items":{"$ref":"#/components/schemas/ValidationIssueDTO"}}}},"FailedMessagesCriteriaRO":{"type":"object","properties":{"fromDate":{"type":"string","format":"date-time"},"toDate":{"type":"string","format":"date-time"}}},"MessageAcknowledgementRequestDTO":{"type":"object","properties":{"messageId":{"type":"string"},"acknowledgeDate":{"type":"string","format":"date-time"},"properties":{"type":"object","additionalProperties":{"type":"string"}}}},"MessageAcknowledgementDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"messageId":{"type":"string"},"from":{"type":"string"},"to":{"type":"string"},"properties":{"type":"object","additionalProperties":{"type":"string"}},"acknowledgeDate":{"type":"string","format":"date-time"},"createDate":{"type":"string","format":"date-time"},"createUser":{"type":"string"}}},"PModeArchiveInfoDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"configurationDate":{"type":"string","format":"date-time"},"username":{"type":"string"},"description":{"type":"string"}}},"PartyFilterRequestDTO":{"type":"object","properties":{"name":{"type":"string"},"endPoint":{"type":"string"},"partyId":{"type":"string"},"process":{"type":"string"},"pageStart":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"MessageAttemptDTO":{"type":"object","properties":{"messageId":{"type":"string"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["SUCCESS","ABORT","ERROR"]},"error":{"type":"string"}}},"MonitoringInfoDTO":{"type":"object","properties":{"services":{"type":"array","items":{"$ref":"#/components/schemas/ServiceInfoDTO"}}}},"ServiceInfoDTO":{"type":"object","properties":{"name":{"type":"string"},"status":{"type":"string","enum":["NORMAL","ERROR","BLOCKED"]}}},"AgreementRefDTO":{"type":"object","properties":{"value":{"type":"string"},"type":{"type":"string"},"pmode":{"type":"string"}}},"CollaborationInfoDTO":{"type":"object","properties":{"conversationId":{"type":"string"},"action":{"type":"string"},"agreementRef":{"$ref":"#/components/schemas/AgreementRefDTO"},"service":{"$ref":"#/components/schemas/ServiceDTO"}}},"DescriptionDTO":{"type":"object","properties":{"value":{"type":"string"},"lang":{"type":"string"}}},"FromDTO":{"type":"object","properties":{"partyId":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PartyIdDTO"}},"role":{"type":"string"}}},"MessageInfoDTO":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"messageId":{"type":"string"},"refToMessageId":{"type":"string"}}},"MessagePropertiesDTO":{"type":"object","properties":{"property":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PropertyDTO"}}}},"PartInfoDTO":{"type":"object","properties":{"schema":{"$ref":"#/components/schemas/SchemaDTO"},"description":{"$ref":"#/components/schemas/DescriptionDTO"},"partProperties":{"$ref":"#/components/schemas/PartPropertiesDTO"},"href":{"type":"string"},"inBody":{"type":"boolean"},"mime":{"type":"string"}}},"PartPropertiesDTO":{"type":"object","properties":{"property":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PropertyDTO"}}}},"PartyIdDTO":{"type":"object","properties":{"value":{"type":"string"},"type":{"type":"string"}}},"PartyInfoDTO":{"type":"object","properties":{"from":{"$ref":"#/components/schemas/FromDTO"},"to":{"$ref":"#/components/schemas/ToDTO"}}},"PayloadInfoDTO":{"type":"object","properties":{"partInfo":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PartInfoDTO"}}}},"PropertyDTO":{"type":"object","properties":{"value":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"}}},"SchemaDTO":{"type":"object","properties":{"location":{"type":"string"},"version":{"type":"string"},"namespace":{"type":"string"}}},"ServiceDTO":{"type":"object","properties":{"value":{"type":"string"},"type":{"type":"string"}}},"ToDTO":{"type":"object","properties":{"partyId":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PartyIdDTO"}},"role":{"type":"string"}}},"UserMessageDTO":{"type":"object","properties":{"messageInfo":{"$ref":"#/components/schemas/MessageInfoDTO"},"partyInfo":{"$ref":"#/components/schemas/PartyInfoDTO"},"collaborationInfo":{"$ref":"#/components/schemas/CollaborationInfoDTO"},"messageProperties":{"$ref":"#/components/schemas/MessagePropertiesDTO"},"payloadInfo":{"$ref":"#/components/schemas/PayloadInfoDTO"},"mpc":{"type":"string"}}},"MessagesDTO":{"type":"object","properties":{"limit":{"type":"integer","format":"int32"},"start":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"},"messages":{"type":"array","items":{"type":"string"}}}},"CurrentBatchStartDateDTO":{"type":"object","properties":{"startDate":{"type":"string","format":"date-time"}}},"QueuedBatchDTO":{"type":"object","properties":{"batchId":{"type":"string"},"requestType":{"type":"string"},"enqueuedTimestamp":{"type":"string","format":"date-time"},"messageStartDate":{"type":"string","format":"date-time"},"messageEndDate":{"type":"string","format":"date-time"},"messages":{"type":"array","items":{"type":"string"}}}},"ExportedBatchDTO":{"type":"object","properties":{"batchId":{"type":"string"},"requestType":{"type":"string","enum":["CONTINUOUS","ONE_TIME","ALL"]},"errorCode":{"type":"string"},"errorDescription":{"type":"string"},"enqueuedTimestamp":{"type":"string","format":"date-time"},"messageStartDate":{"type":"string","format":"date-time"},"messageEndDate":{"type":"string","format":"date-time"},"manifestChecksum":{"type":"string"},"messages":{"type":"array","items":{"type":"string"}}}},"ExportedBatchMessagesDTO":{"type":"object","properties":{"batchId":{"type":"string"},"limit":{"type":"integer","format":"int32"},"start":{"type":"integer","format":"int32"},"total":{"type":"integer","format":"int32"},"messages":{"type":"array","items":{"type":"string"}}}}}}}